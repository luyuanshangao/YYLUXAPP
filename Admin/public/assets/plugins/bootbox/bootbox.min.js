!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.bootbox=b(a.jQuery)}(this,function a(b,c){"use strict";function g(a){var b=q[e.locale];return b?b[a]:q.en[a]}function h(a,c,d){a.stopPropagation(),a.preventDefault();var e=b.isFunction(d)&&d.call(c,a)===!1;e||c.modal("hide")}function i(a){var b,c=0;for(b in a)c++;return c}function j(a,c){var d=0;b.each(a,function(a,b){c(a,b,d++)})}function k(a){var c,d;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=b.extend({},e,a),a.buttons||(a.buttons={}),c=a.buttons,d=i(c),j(c,function(a,e,f){if(b.isFunction(e)&&(e=c[a]={callback:e}),"object"!==b.type(e))throw new Error("button with key "+a+" must be an object");e.label||(e.label=a),e.className||(e.className=2>=d&&f===d-1?"btn-primary":"btn-default")}),a}function l(a,b){var c=a.length,d={};if(1>c||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function m(a,c,d){return b.extend(!0,{},a,l(c,d))}function n(a,b,c,d){var e={className:"bootbox-"+a,buttons:o.apply(null,b)};return p(m(e,d,c),b)}function o(){for(var a={},b=0,c=arguments.length;c>b;b++){var d=arguments[b],e=d.toLowerCase(),f=d.toUpperCase();a[e]={label:g(f)}}return a}function p(a,b){var d={};return j(b,function(a,b){d[b]=!0}),j(a.buttons,function(a){if(d[a]===c)throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},e={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},f={};f.alert=function(){var a;if(a=n("alert",["ok"],["message","callback"],arguments),a.callback&&!b.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return b.isFunction(a.callback)?a.callback.call(this):!0},f.dialog(a)},f.confirm=function(){var a;if(a=n("confirm",["cancel","confirm"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,!1)},a.buttons.confirm.callback=function(){return a.callback.call(this,!0)},!b.isFunction(a.callback))throw new Error("confirm requires a callback");return f.dialog(a)},f.prompt=function(){var a,e,g,h,i,k,l;if(h=b(d.form),e={className:"bootbox-prompt",buttons:o("cancel","confirm"),value:"",inputType:"text"},a=p(m(e,arguments,["title","callback"]),["cancel","confirm"]),k=a.show===c?!0:a.show,a.message=h,a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,null)},a.buttons.confirm.callback=function(){var c;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":c=i.val();break;case"checkbox":var d=i.find("input:checked");c=[],j(d,function(a,d){c.push(b(d).val())})}return a.callback.call(this,c)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!b.isFunction(a.callback))throw new Error("prompt requires a callback");if(!d.inputs[a.inputType])throw new Error("invalid prompt type");switch(i=b(d.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(a.value);break;case"select":var n={};if(l=a.inputOptions||[],!b.isArray(l))throw new Error("Please pass an array of input options");if(!l.length)throw new Error("prompt with select requires options");j(l,function(a,d){var e=i;if(d.value===c||d.text===c)throw new Error("given options in wrong format");d.group&&(n[d.group]||(n[d.group]=b("<optgroup/>").attr("label",d.group)),e=n[d.group]),e.append("<option value='"+d.value+"'>"+d.text+"</option>")}),j(n,function(a,b){i.append(b)}),i.val(a.value);break;case"checkbox":var q=b.isArray(a.value)?a.value:[a.value];if(l=a.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");i=b("<div/>"),j(l,function(c,e){var f=b(d.inputs[a.inputType]);f.find("input").attr("value",e.value),f.find("label").append(e.text),j(q,function(a,b){b===e.value&&f.find("input").prop("checked",!0)}),i.append(f)})}return a.placeholder&&i.attr("placeholder",a.placeholder),a.pattern&&i.attr("pattern",a.pattern),a.maxlength&&i.attr("maxlength",a.maxlength),h.append(i),h.on("submit",function(a){a.preventDefault(),a.stopPropagation(),g.find(".btn-primary").click()}),g=f.dialog(a),g.off("shown.bs.modal"),g.on("shown.bs.modal",function(){i.focus()}),k===!0&&g.modal("show"),g},f.dialog=function(a){a=k(a);var e=b(d.dialog),f=e.find(".modal-dialog"),g=e.find(".modal-body"),i=a.buttons,l="",m={onEscape:a.onEscape};if(b.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(j(i,function(a,b){l+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",m[a]=b.callback}),g.find(".bootbox-body").html(a.message),a.animate===!0&&e.addClass("fade"),a.className&&e.addClass(a.className),"large"===a.size?f.addClass("modal-lg"):"small"===a.size&&f.addClass("modal-sm"),a.height&&f.css("height",a.height),a.width&&f.css("width",a.width),a.title&&g.before(d.header),a.closeButton){var n=b(d.closeButton);a.title?e.find(".modal-header").prepend(n):n.css("margin-top","-10px").prependTo(g)}return a.title&&e.find(".modal-title").html(a.title),l.length&&(g.after(d.footer),e.find(".modal-footer").html(l)),e.on("hidden.bs.modal",function(a){a.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),"static"!==a.backdrop&&e.on("click.dismiss.bs.modal",function(a){e.children(".modal-backdrop").length&&(a.currentTarget=e.children(".modal-backdrop").get(0)),a.target===a.currentTarget&&e.trigger("escape.close.bb")}),e.on("escape.close.bb",function(a){m.onEscape&&h(a,e,m.onEscape)}),e.on("click",".modal-footer button",function(a){var c=b(this).data("bb-handler");h(a,e,m[c])}),e.on("click",".bootbox-close-button",function(a){h(a,e,m.onEscape)}),e.on("keyup",function(a){27===a.which&&e.trigger("escape.close.bb")}),b(a.container).append(e),e.modal({backdrop:a.backdrop?"static":!1,keyboard:!1,show:!1}),a.show&&e.modal("show"),e},f.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],b.extend(e,a)},f.hideAll=function(){return b(".bootbox").modal("hide"),f};var q={bg_BG:{OK:"\u041e\u043a",CANCEL:"\u041e\u0442\u043a\u0430\u0437",CONFIRM:"\u041f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043c"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zru\u0161it",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"\u0395\u03bd\u03c4\u03ac\u03be\u03b5\u03b9",CANCEL:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",CONFIRM:"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"\u0642\u0628\u0648\u0644",CANCEL:"\u0644\u063a\u0648",CONFIRM:"\u062a\u0627\u06cc\u06cc\u062f"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},hu:{OK:"OK",CANCEL:"M\xe9gsem",CONFIRM:"Meger\u0151s\xedt"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",CONFIRM:"\u78ba\u8a8d"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"\u0e15\u0e01\u0e25\u0e07",CANCEL:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",CONFIRM:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return f.addLocale=function(a,c){return b.each(["OK","CANCEL","CONFIRM"],function(a,b){if(!c[b])throw new Error("Please supply a translation for '"+b+"'")}),q[a]={OK:c.OK,CANCEL:c.CANCEL,CONFIRM:c.CONFIRM},f},f.removeLocale=function(a){return delete q[a],f},f.setLocale=function(a){return f.setDefaults("locale",a)},f.init=function(c){return a(c||b)},f});